import AssigmentList from "./AssigmentList.js";
import AssigmentCreate from "./AssigmentCreate.js";  
export default {
    components:{AssigmentList,AssigmentCreate},
    template:`  
    <section class="flex gap-7">
    <assigment-list :assigments="filters.inProgress" title="Pending Assigments">
    <assigment-create @add="add"></assigment-create>
    </assigment-list>
    <assigment-list 
    v-if="showCompleted"
    :assigments="filters.completed" 
    title="Completed" 
    can-toggle 
    @toggle="showCompleted =!showCompleted"
    ></assigment-list>

 

    </section>
 `,
data() {
    return { 
<<<<<<< HEAD
        assigments :[
        // {name:'vue', complet:false,id:1,tag:'front'},
        // {name:'laravel', complet:false,id:2,tag:'back'},
        // {name:'node', complet:false,id:3,tag:'server'},
        // {name:'J query', complet:false,id:4,tag:'front'},
        ],
=======
        assigments :[],
        showCompleted:true,
>>>>>>> origin/main
        newAssigment:'',
    }
},
computed: { 
    filters(){
        return {
            inProgress:this.assigments.filter(assigment =>!assigment.complet),
            completed:this.assigments.filter(assigment =>assigment.complet)
        }
    }
},
created(){
    fetch('http://localhost:3000/assigments')
<<<<<<< HEAD
=======
    .then(response=>response.json())
    .then(assigments=>{
       this.assigments = assigments;
    });
>>>>>>> origin/main
},
methods: {
    add(name){
      this.assigments.push({
        name:name,
        complet:false,
        id:this.assigments.length+1
      });
      this.newAssigment=''

    }
},
}